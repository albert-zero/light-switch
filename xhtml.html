<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Insert title here</title>
    <script>
		
		function doSwitch(aPin, aValue) {
			var xResponse;
			var xhttp = new XMLHttpRequest();
			
			console.log("doSwitch " + aPin + " " + aValue );
			
			xhttp.onreadystatechange = function() {
				if (this.readyState == 4 && this.status == 200) {
					xResponse = JSON.parse(this.response);
					console.log(this.response);
					// Do something with the response. For example:
					// document.getElementById("output").innerHTML = this.response;
				}
			};
			
			var aJsonObj = {"pin": aPin, "value": aValue};
			xhttp.open("POST", "http://192.168.178.88/gpio/0", true);
			xhttp.send(JSON.stringify(aJsonObj) + "\n");
		}
    </script>
</head>
<body>
	<p name="output"/>
	
	<input name="aBlue" type="range" min="0" max="1024" value="0" step="8" onchange="doSwitch(16, this.value)"/>
	<input name="aRed"  type="range" min="0" max="1024" value="0" step="8" onchange="doSwitch(5, this.value)"/>
	<input name="aYell" type="range" min="0" max="1024" value="0" step="8" onchange="doSwitch(4, this.value)"/>
</body>
</html>
